<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.poverty.mapper.UserInformationMapper">

    <insert id="insertOne">
        insert into `t_user_information`
            (`id`, `username`, `real_name`, `phone`, `email`, `id_card`, `address`,`birthday`)
        values
            (#{id}, #{username}, #{realName}, #{phone}, #{email}, #{idCard}, #{address},#{birthday});
    </insert>
    <update id="updateUserInformation">
        update `t_user_information`
        set username=#{username},
            real_name=#{realName},
            phone=#{phone},
            email=#{email},
            birthday=#{birthday},
            id_card=#{idCard},
            address=#{address},
            `modify_time`=CURRENT_TIMESTAMP()
        where id = #{id};
    </update>

    <select id="selectUserInformation" resultType="com.poverty.entity.vo.UserInformationVO">
        select `ui`.`id`,
               `ui`.`username`,
               `ui`.`email`,
               `ui`.`birthday`,
               `ui`.`real_name`,
               `ui`.`phone`,
               `ui`.`id_card`,
               `ui`.`address`,
               `user`.`account`
        from `t_user_information` as `ui`
                 inner join `t_user` as `user` on `ui`.`id` = `user`.`id`
        where `ui`.`id` = #{id};
    </select>
</mapper>
